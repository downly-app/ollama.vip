# 本地模型管理功能

## 概述

新增了本地Ollama模型管理页面，用于管理已安装在本地的Ollama模型。该功能与现有的远程模型页面分离，专门用于本地模型的管理操作。

## 功能特性

### 1. 模型列表管理
- **查看本地模型**: 显示所有已安装的Ollama模型
- **搜索功能**: 支持按模型名称和家族进行搜索
- **模型信息**: 显示模型大小、参数数量、修改时间等详细信息
- **刷新列表**: 手动刷新模型列表

### 2. 模型下载
- **下载新模型**: 通过模型名称下载新的Ollama模型
- **下载进度**: 显示下载状态和进度（如果支持）
- **常用模型**: 支持下载如 `llama3.2:3b`、`qwen2.5:7b` 等流行模型

### 3. 模型操作
- **删除模型**: 删除不需要的本地模型，释放存储空间
- **查看详情**: 查看模型的详细信息（预留功能）
- **卡片式布局**: 使用现代化的卡片布局展示模型信息

## 页面结构

### 导航集成
- 在左侧导航栏添加了"本地模型"选项
- 使用硬盘图标 (HardDrive) 区分于远程模型的数据库图标
- 路由路径: `/local-models`

### 页面布局
1. **头部操作区**
   - 显示模型总数
   - 搜索框
   - 刷新按钮

2. **下载区域**
   - 模型名称输入框
   - 下载按钮
   - 下载进度显示

3. **模型列表**
   - 响应式网格布局 (1/2/3列)
   - 每个模型卡片显示:
     - 模型名称和家族
     - 文件大小
     - 参数数量
     - 修改时间
     - 操作按钮（详情、删除）

## 技术实现

### 前端组件
- **页面组件**: `src/pages/LocalModels.tsx`
- **管理组件**: `src/components/LocalModelManager.tsx`
- **API集成**: 使用现有的 `ollamaApi` 服务

### API调用
- `ollamaApi.listModels()`: 获取本地模型列表
- `ollamaApi.pullModel()`: 下载新模型
- `ollamaApi.deleteModel()`: 删除模型
- `ollamaApi.showModelInfo()`: 获取模型详细信息（预留）

### 国际化支持
- 中文翻译: `src/i18n/locales/zh.json`
- 英文翻译: `src/i18n/locales/en.json`
- 翻译键: `navigation.localModels`, `pages.localModels`

## 用户体验

### 响应式设计
- 移动端友好的响应式布局
- 自适应的网格系统
- 触摸友好的操作按钮

### 交互反馈
- 加载状态指示器
- 操作成功/失败的Toast通知
- 确认对话框防止误操作

### 视觉设计
- 与应用整体设计风格保持一致
- 使用半透明背景和模糊效果
- 渐变色按钮和状态指示器

## 使用方法

1. **访问页面**: 点击左侧导航栏的"本地模型"图标
2. **查看模型**: 浏览已安装的模型列表
3. **搜索模型**: 在搜索框中输入关键词过滤模型
4. **下载模型**: 在下载区域输入模型名称并点击下载
5. **删除模型**: 点击模型卡片上的删除按钮

## 扩展计划

### 未来功能
- [ ] 模型加载/卸载到内存
- [ ] 运行中模型的状态显示
- [ ] 模型详细信息对话框
- [ ] 批量操作功能
- [ ] 模型使用统计
- [ ] 自动更新检查

### 性能优化
- [ ] 虚拟滚动支持大量模型
- [ ] 模型列表缓存
- [ ] 增量更新机制

## 注意事项

1. **依赖关系**: 需要Ollama服务正常运行
2. **权限要求**: 需要文件系统访问权限
3. **存储空间**: 大型模型可能占用大量磁盘空间
4. **网络要求**: 下载模型需要稳定的网络连接

## 故障排除

### 常见问题
- **模型列表为空**: 检查Ollama服务是否运行
- **下载失败**: 检查网络连接和模型名称是否正确
- **删除失败**: 确保模型未在使用中

### 错误处理
- 网络错误自动重试
- 用户友好的错误消息
- 详细的控制台日志记录 